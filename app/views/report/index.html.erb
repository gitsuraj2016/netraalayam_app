<body class="hold-transition skin-blue sidebar-mini">
  <div class="wrapper">

    <%= render 'layouts/header' %>
    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
      <!-- Content Header (Page header) -->

      <section class="content-header">
        <h1>
          Report
          <small>Control panel</small>
        </h1>
        <ol class="breadcrumb">
          <li class="active">
            
            </li>
          </ol>
        </section>
        <section class="content">
          <div class="tab">
          <button class="tablinks" onclick="openReport(event, 'daily')">Daily Sales Report</button>
          <button class="tablinks" onclick="openReport(event, 'cash')">Cash Management Report</button>
          <button class="tablinks" onclick="openReport(event, 'invent')">Inventory Report</button>
        </div>

        <!-- Tab content -->
        <div id="daily" class="tabcontent">
          <h3>Daily Report</h3>
          <div class="col-md-12">
            <div class="box">
              <div class="box-header with-border">
                <h3 class="box-title">Total Order (<%= @orders.count %>)</h3>
                <%#= link_to 'New Role', new_role_path , { class: "btn btn-primary newAddBtn"}%>
                <div style="margin-top:30px">
                <table>
                    <tr style="text-align: center"><td>Start Date</td><td>End Date</td><td></td></tr>
                  <tr><td><input type="text" id="sdate"></td>
                  <td><input type="text" id="edate"></td>
                  <td><input type="button" name="" value="show Data" id="filter_order" class="btn btn-warning btn-sm"></td></tr>
                </table>
                </div>
                                
              </div>
              <!-- /.box-header -->
              <%= render 'order_table_data' %>
              
            </div>
            
            <!-- /.box -->
          </div>
        </div>

        <div id="cash" class="tabcontent">
          <h3>Cash Management Report</h3>
          <div class="col-md-12">
            <div class="box">
              <div class="box-header with-border">
                <h3 class="box-title">Total Order (<%= @orders.count %>)</h3>
                <%#= link_to 'New Role', new_role_path , { class: "btn btn-primary newAddBtn"}%>
                <div style="margin-top:30px">
                <table>
                    <tr style="text-align: center"><td>Start Date</td><td>End Date</td><td></td></tr>
                  <tr><td><input type="text" id="sdate"></td>
                  <td><input type="text" id="edate"></td>
                  <td><input type="button" name="" value="show Data" id="filter_order" class="btn btn-warning btn-sm"></td></tr>
                </table>
                </div>
                                
              </div>
              <!-- /.box-header -->
              <%= render 'cash_report' %>
              
            </div>
            
            <!-- /.box -->
          </div>
        </div>

        <div id="invent" class="tabcontent">
          <h3>Inventory Report</h3>
          <div class="col-md-12">
            <div class="box">
              <div class="box-header with-border">
                <h3 class="box-title">Total Order (<%= @orders.count %>)</h3>
                <%#= link_to 'New Role', new_role_path , { class: "btn btn-primary newAddBtn"}%>
                <div style="margin-top:30px">
                <table>
                    <tr style="text-align: center"><td>Start Date</td><td>End Date</td><td></td></tr>
                  <tr><td><input type="text" id="sdate"></td>
                  <td><input type="text" id="edate"></td>
                  <td><input type="button" name="" value="show Data" id="filter_order" class="btn btn-warning btn-sm"></td></tr>
                </table>
                </div>
                                
              </div>
              <!-- /.box-header -->
              <%= render 'inventry_report' %>
              
            </div>
            
            <!-- /.box -->
          </div>
        </div>
          
          <br>
        </section>
      </div>
    </div>
  </body>

<script type="text/javascript">
    $( document ).ready(function() {
    	 $('#sdate').datepicker({
		format: 'yyyy-mm-dd'
	});
    	 $('#edate').datepicker({
		format: 'yyyy-mm-dd'
	});
    $("#filter_order").click(function(){

      var sdate =  $('#sdate').val();
      var edate = $('#edate').val();
      // alert(sdate);
        $.ajax({
            url: "show_order_data",
            method: "Get",  
            data: {
                     sdate: sdate,
                     edate: edate,
                  },
            error: function (xhr, status, error) {
              console.error('AJAX Error: ' + status + error);
            },
            success: function (data) {
              // alert(data.status);
              // console.log(response);
            }
          });

      });
});
    function openReport(evt, cityName) {
  // Declare all variables
  var i, tabcontent, tablinks;

  // Get all elements with class="tabcontent" and hide them
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }

  // Get all elements with class="tablinks" and remove the class "active"
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }

  // Show the current tab, and add an "active" class to the button that opened the tab
  document.getElementById(cityName).style.display = "block";
  evt.currentTarget.className += " active";
}
  </script>
  <style type="text/css">
    /* Style the tab */
.tab {
  overflow: hidden;
  border: 1px solid #ccc;
  background-color: #f1f1f1;
}

/* Style the buttons that are used to open the tab content */
.tab button {
  background-color: inherit;
  float: left;
  border: none;
  outline: none;
  cursor: pointer;
  padding: 14px 16px;
  transition: 0.3s;
}

/* Change background color of buttons on hover */
.tab button:hover {
  background-color: #ddd;
}

/* Create an active/current tablink class */
.tab button.active {
  background-color: #ccc;
}

/* Style the tab content */
.tabcontent {
  display: none;
  padding: 6px 12px;
  border: 1px solid #ccc;
  border-top: none;
}
  </style>