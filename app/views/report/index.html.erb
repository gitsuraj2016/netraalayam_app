<body class="hold-transition skin-blue sidebar-mini">
  <div class="wrapper">

    <%= render 'layouts/header' %>
    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
      <!-- Content Header (Page header) -->
      <section class="content-header">
        <h1>
          Report
          <small>Control panel</small>
        </h1>
        <ol class="breadcrumb">
          <li class="active">
            
            </li>
          </ol>
        </section>
        <section class="content">
          <div class="col-md-8">
            <div class="box">
              <div class="box-header with-border">
                <h3 class="box-title">Total Order (<%= @orders.count %>)</h3>
                <%#= link_to 'New Role', new_role_path , { class: "btn btn-primary newAddBtn"}%>
                <div style="margin-top:30px">
                <table>
                    <tr style="text-align: center"><td>Start Date</td><td>End Date</td><td></td></tr>
                	<tr><td><input type="text" id="sdate"></td>
                	<td><input type="text" id="edate"></td>
                	<td><input type="button" name="" value="show Data" id="filter_order" class="btn btn-warning btn-sm"></td></tr>
                </table>
                </div>
                                
              </div>
              <!-- /.box-header -->
              <%= render 'order_table_data' %>
              
            </div>
            
            <!-- /.box -->
          </div>
          <br>
        </section>
      </div>
    </div>
  </body>

<script type="text/javascript">
    $( document ).ready(function() {
    	 $('#sdate').datepicker({
		format: 'yyyy-mm-dd'
	});
    	 $('#edate').datepicker({
		format: 'yyyy-mm-dd'
	});
    $("#filter_order").click(function(){

      var sdate =  $('#sdate').val();
      var edate = $('#edate').val();
      // alert(sdate);
        $.ajax({
            url: "show_order_data",
            method: "Get",  
            data: {
                     sdate: sdate,
                     edate: edate,
                  },
            error: function (xhr, status, error) {
              console.error('AJAX Error: ' + status + error);
            },
            success: function (data) {
              // alert(data.status);
              // console.log(response);
            }
          });

      });
});
  </script>